<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <style>
    .hour2 {
      color: green
    }

    .min2 {
      color: blue
    }

    .sec2 {
      color: red
    }

    /* не копировать */
    .drag-slider {
      border-radius: 5px;
      background: #E0E0E0;
      background: -moz-linear-gradient(left top, #E0E0E0, #EEEEEE) repeat scroll 0 0 transparent;
      background: -webkit-gradient(linear, left top, right bottom, from(#E0E0E0), to(#EEEEEE));
      background: linear-gradient(left top, #E0E0E0, #EEEEEE);
      width: 310px;
      height: 15px;
      margin: 5px;
    }

    .thumb {
      width: 10px;
      height: 25px;
      border-radius: 3px;
      position: relative;
      left: 10px;
      top: -5px;
      background: blue;
      cursor: pointer;
    }

    /* 3 not copy */
    .selected {
      background: #0f0;
    }
    /* 4 */
    .voter {
      font-family: 'DejaVu Sans Mono', 'Lucida Console', 'Menlo', 'Monaco', monospace;
      font-size: 18px;
    }

    .up-voiter,
    .down-voiter {
      cursor: pointer;
      color: blue;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <div class="widgets-structure">
    <div class="struckture1">
      <h3><a href="https://learn.javascript.ru/widgets-structure#chasiki">Часики</a></h3>
      <div>
        <div id="clock2" class="clock2">
          <span class="hour2">00</span>:<span class="min2">00</span>:<span class="sec2">00</span>
        </div>
        <input type="button" onclick="pageClock.start()" value="Старт">
        <input type="button" onclick="pageClock.stop()" value="Стоп">

        <input type="button"
          onclick="alert('Часы должны останавливаться во время alert,\nи продолжать корректно работать после нажатия на ОК')"
          value="alert для проверки корректного возобновления">
      </div>
    </div>
    <div class="struckture2">
      <h3><a href="https://learn.javascript.ru/widgets-structure#slayder-komponent">Слайдер компонент</a></h3>
      <div>
        <div id="slider2" class="drag-slider">
          <div class="thumb">

          </div>
        </div>
      </div>
    </div>
    <div class="struckture3">
      <h3><a href="https://learn.javascript.ru/widgets-structure#komponent-spisok-s-vydeleniem">Компонент: список с
          выделением</a></h3>
      <div>
        Клик на элементе выделяет только его.
        <br> Ctrl(Cmd)+Клик добавляет/убирает элемент из выделенных.
        <br> Shift+Клик добавляет промежуток от последнего кликнутого к выделению.
        <br> 

        <ul id='vinniUlComponent'>
          <li>Кристофер Робин</li>
          <li>Винни-Пух</li>
          <li>Ослик Иа</li>
          <li>Мудрая Сова</li>
          <li>Кролик. Просто кролик.</li>
          <span>Неправильные пчелы, выбрать нельзя</span>
          <li><span>Правильные пчелы</span></li>
        </ul>
      </div>
    </div>
    <div class="struckture4">
      <h3><a href="https://learn.javascript.ru/widgets-structure#golosovalka">Голосовалка</a></h3>
      <div>
        <div id="voter" class="voter">
          <span class="down-voiter">—</span>
          <span class="vote">0</span>
          <span class="up-voiter">+</span>
        </div>
      </div>
    </div>
    <div class="struckture5">
      <h3><a href="https://learn.javascript.ru/widgets-structure#golosovalka-v-prototipnom-stile-oop">Голосовалка в прототипном стиле</a></h3>
      <div>
        <div id="voterProto" class="voter">
          <span class="down-voiter">—</span>
          <span class="vote">0</span>
          <span class="up-voiter">+</span>
        </div>
      </div>
    </div>
    <div class="struckture6">
      <h3><a href="https://learn.javascript.ru/widgets-structure#dobavit-dvoynoy-golos-v-golosovalku">Добавить двойной голос в голосовалку</a></h3>
      <div>
        <div id="voterProto2" class="voter">
          <span class="down-voiter">—</span>
          <span class="vote">0</span>
          <span class="up-voiter">+</span>
        </div>
      </div>
    </div>
  </div>
</body>
<script>

  // .. ваш код Clock
  function Clock2(options) {
    let spans = options.elem.getElementsByTagName('span');
    let hour = spans[0];
    let min = spans[1];
    let sec = spans[2];
    let timerId;

    function start() {
      timerId = setInterval(showTime, 1000);
    }

    function stop() {
      return clearInterval(timerId);
    }
    function showTime() {
      let time = getDate();
      hour.innerHTML = time.h;
      min.innerHTML = time.m;
      sec.innerHTML = time.s;
    }
    function getDate() {
      let date = new Date;

      let h = date.getHours();
      if (h < 10) {
        h = "0" + h
      };
      let m = date.getMinutes();
      if (m < 10) {
        m = "0" + m
      };
      let s = date.getSeconds();
      if (s < 10) {
        s = "0" + s
      };
      let res = { h, m, s }
      return res;
    }
    this.start = start;
    this.stop = stop;
  };

  let pageClock = new Clock2({
    elem: document.getElementById('clock2')
  });
  // 2 
  function SliderComponent(options) {
    let slider = options.elem;
    // let slider = elem.querySelector('.drag-slider')
    let thumb = slider.querySelector('.thumb');

    thumb.onmousedown = function (event) {

      moveAt(event);
      thumb.style.zIndex = 999;

      function moveAt(e) {
        let left = e.pageX - slider.offsetLeft;

        if (left > slider.offsetWidth - 10) {
          left = slider.offsetWidth - 10;
        } else if (left < 0) {
          left = 0;
        }
        thumb.style.left = left + 'px';
        // console.log(thumb.style.left);
      }
      document.onmousemove = function (event) {
        moveAt(event);
      };

      document.onmouseup = function () {
        document.onmousemove = null;
        document.onmouseup = null;
      };
    }
    // console.log(thumb.parentElement == options.elem);
  }
  let sliderComponent = new SliderComponent({ elem: slider2 });
  // 3
  function ListSelect(options) {

    let elem = options.elem;
    let li = elem.querySelectorAll('li');
    let length = li.length;
    let lastClick;

    addCursor();
    addButton();

    function addCursor() {
      for (let i = 0; i < length; i++) {
        li[i].style.cursor = 'pointer';
      }
    }

    function addButton() {
      let but = document.createElement('button');
      but.innerHTML = 'getSelected()';
      but.onclick = getSelected;
      elem.parentElement.appendChild(but);
    }

    elem.onmousedown = function () {
      return false;
    }

    elem.onclick = function (event) {
      let target = event.target.closest('li');
      if(!target)return;
      event.preventDefault();
      // ctrl click 
      if (event.ctrlKey || event.metaKey) {
        target.classList.toggle('selected');
        lastClick = target;
        return;
      }
      // shift key 
      if (event.shiftKey) {
        let clickA, clickB, start, end = 0;
        for (let i = 0; i < length; i++) {
          if (li[i] == target) clickA = i;
          if (li[i] == lastClick) clickB = i;
        }

        if (!lastClick) {
          clickB = clickA;//первый клик + shift выделяет элемент
        }

        start = Math.min(clickA, clickB);
        end = Math.max(clickA, clickB);

        for (start; start <= end; start++) {
          li[start].classList.add('selected');
        }
        lastClick = target;
        return false;
      }
      // single click
      for (let i = 0; i < length; i++) {
        li[i].classList.remove('selected');
      }

      target.classList.add('selected');
      lastClick = target;
      return
    }

    function getSelected() {
      let selected = elem.querySelectorAll('.selected');
      let len = selected.length;
      let arr = [];
      for (let i = 0; i < len; i++) {
        arr[i] = selected[i].innerText;
      }
      if (arr.length == 0) {
        alert('Ничего не выбрано')
      } else {
        alert(arr);
      }
      return arr;
    }

    this.getSelected = getSelected;
  };
  let listSelect1 = new ListSelect({ elem: document.getElementById('vinniUlComponent') })
  // 4
  function Voter(options) {
      let elem = options.elem;

      let up = elem.querySelector('.up-voiter');
      let down = elem.querySelector('.down-voiter');
      let voit = elem.querySelector('.vote');

      up.onmousedown = function(){return false};
      up.onclick = function(){
        let val = +voit.innerHTML;
        val++;
        voit.innerHTML = val;
      }
      down.onmousedown = function(){return false};
      down.onclick = function(){
        let val = +voit.innerHTML;
        val--;
        voit.innerHTML = val;
      }
      function setVote(c){
        voit.innerHTML = c;
      }
      this.setVote = setVote;
    }

    let voter1 = new Voter({
      elem: document.getElementById('voter')
    });

    voter1.setVote(1);
// 4
    function VoterProt (options){
      let elem = this._elem = options.elem;
      this._val = elem.querySelector('.vote');

      elem.onmousedown = function(){return false};
      elem.onclick = this.onclick.bind(this);
      
    }
    VoterProt.prototype.setVote = function(c){
      this._val.innerHTML = c; 
    }
    VoterProt.prototype.increment = function(){
       this._val.innerHTML = +this._val.innerHTML + 1;
    }
    VoterProt.prototype.decrement = function(){
        this._val.innerHTML = +this._val.innerHTML - 1;
    }
    VoterProt.prototype.onclick = function (event){
      if(event.target.closest('.down-voiter')){
        // this._val.innerHTML = +this._val.innerHTML -1;
        this.decrement();
      }else if(event.target.closest('.up-voiter')){
        // this._val.innerHTML = +this._val.innerHTML +1;
        this.increment();
      }
    }

    let voter2 = new VoterProt({elem:document.getElementById('voterProto')});
    voter2.setVote(3);
// 5 
    function StepVoter(options){
      VoterProt.apply(this,arguments);
      this._step = options.step;
    }
    StepVoter.prototype = Object.create(VoterProt.prototype);
    StepVoter.prototype.constructor = StepVoter;

    StepVoter.prototype.increment = function(){
      this._val.innerHTML = +this._val.innerHTML + this._step;
    }
    StepVoter.prototype.decrement = function(){
      this._val.innerHTML = +this._val.innerHTML - this._step;
    }

    
let voter3 = new StepVoter({
  elem: document.getElementById('voterProto2'),
  step: 2 // увеличивать/уменьшать сразу на 2 пункта
});
console.log(voter3);
</script>

</html>