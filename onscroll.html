<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <style>
    body {
      background-color: #f7f7f7;
    }

    h3 {
      text-align: center;
    }

    h3 a {
      color: #68E5F7;
      text-decoration: none;
      transition: color 0.3s ease-out;
    }

    h3 a:hover {
      color: rgb(95, 16, 16);
    }

    .column-left-v {
      float: left;
      width: 30%;
      background: #aef;
    }

    .column-right-v {
      margin-left: 30%;
      width: 70%;
      background: tan;
      overflow: auto;
      /* расшириться вниз захватить float'ы */
    }

    .header-v {
      line-height: 60px;
      background: yellow;
    }

    .inner-v {
      margin: 1em;
      font-size: 130%;
    }

    #avatarV {
      float: left;
      margin: 0 1em .5em 0;
      border: 1px solid black;
      text-align: center;
      background: white;
    }

    .avatarFixed {
      position: fixed;
      top: 0;
      /* left: 15%; */
      left:0;
    }

    #matrix {
      width: 400px;
      margin: auto;
      overflow: auto;
      text-align: justify;
    }

    .sparrow-button {
      position: fixed;
      color: green;
      font-size: 2em;
      top: 20px;
      left: 30%;
      cursor: pointer;
    }

    .news-item {
      width: 700px;
      text-align: justify;
      margin-top: 20px;
    }

    .news-item .title-news-news {
      font-weight: bold;
      margin-bottom: 5px;
    }

    #scrollTask3 {
      width: 700px;
      margin: auto;
    }

    .transform-button {
      position: relative;
      display: inline-block;
      text-decoration: none;
      padding: 10px 30px;
      margin-right: 20px;
      border: 1px solid #68E5F7;
      background: transparent;
      color: #fff;
      font-weight: 700;
      letter-spacing: 1px;
      text-transform: uppercase;
      perspective: 500px;
      background: white;
      transition: .3s;
    }

    .transform-button:last-of-type {
      margin-right: 0;
    }

    .transform-button span {
      position: relative;
      z-index: 2;
    }

    .transform-button:before {
      content: "";
      position: absolute;
      z-index: 1;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #68E5F7;
      transform-origin: left;
      transition: .5s;
    }

    .transform-button:hover {
      color: #68E5F7;
      border-color: #68E5F7;
    }

    .transform-button:hover:before {
      transform: rotateY(92deg);
    }
  </style>
</head>

<body>

  <div class="onscroll-theme">
    <div class="scrollTask1">
      <div class="header-v">
        <h3><a href="https://learn.javascript.ru/task/avatar-above-scroll">Аватар наверху при прокрутке</a></h3>
      </div>

      <div class="column-left-v">
        <div class="inner-v">
          <h3>Персонажи:</h3>
          <ul>
            <li>Винни-Пух</li>
            <li>Ослик Иа</li>
            <li>Сова</li>
            <li>Кролик</li>
          </ul>
        </div>
      </div>
      <div class="column-right-v">
        <div class="inner-v">

          <h3>Винни-Пух</h3>

          <div id="avatarV">
            <img src="https://js.cx/clipart/winnie-mult.jpg" width="200" height="150">
            <div>Кадр из мультфильма</div>
          </div>

          <p>Ви́нни-Пу́х (англ. Winnie-the-Pooh) — плюшевый мишка, персонаж повестей и стихов Алана Александра Милна
            (цикл не имеет общего названия и обычно тоже называется «Винни-Пух», по первой книге). Один из самых
            известных героев детской литературы XX века.</p>

          <p>В 1960-е—1970-е годы, благодаря пересказу Бориса Заходера «Винни-Пух и все-все-все», а затем и фильмам
            студии «Союзмультфильм», где мишку озвучивал Евгений Леонов, Винни-Пух стал очень популярен и в Советском
            Союзе.</p>

          <p>Как и многие другие персонажи книги Милна, медвежонок Винни получил имя от одной из реальных игрушек
            Кристофера Робина (1920—1996), сына писателя. В свою очередь, плюшевый мишка Винни-Пух был назван по имени
            медведицы по кличке Виннипег (Винни),
            содержавшейся в 1920-х в Лондонском зоопарке.</p>

          <p>Медведица Виннипег (американский чёрный медведь) попала в Великобританию как живой талисман (маскот)
            Канадского армейского ветеринарного корпуса из Канады, а именно из окрестностей города Виннипега. Она
            оказалась в кавалерийском полку «Форт Гарри
            Хорс» 24 августа 1914 года ещё будучи медвежонком (её купил у канадского охотника-траппера за двадцать
            долларов 27-летний полковой ветеринар лейтенант Гарри Колборн, заботившийся о ней и в дальнейшем). Уже в
            октябре того же года медвежонок был
            привезён вместе с войсками в Британию, а так как полк должен был быть в ходе Первой мировой войны
            переправлен во Францию, то в декабре было принято решение оставить зверя до конца войны в Лондонском
            зоопарке. Медведица полюбилась лондонцам, и
            военные не стали возражать против того, чтобы не забирать её из зоопарка и после войны[1]. До конца дней
            (она умерла 12 мая 1934 года) медведица находилась на довольствии ветеринарного корпуса, о чём в 1919 году
            на её клетке сделали соответствующую
            надпись.
          </p>

          <p>«Винни-Пух» представляет собой дилогию, но каждая из двух книг Милна распадается на 10 рассказов (stories)
            с собственным сюжетом, которые могут читаться, экранизироваться и т. д. независимо друг от друга. В
            некоторых переводах деление на две части
            не сохранено, в других не переведена вторая («Дом на Пуховой опушке»). Иногда первая и вторая книги
            выполнены разными переводчиками. Такова необычная судьба немецкого Винни-Пуха: первая книга вышла в немецком
            переводе в 1928 году, а вторая лишь
            в 1954; между этими датами — ряд трагических событий германской истории.</p>


          <p>Действие книг о Пухе происходит в 500-акровом лесу Эшдаун близ купленной Милнами в 1925 году фермы Кочфорд
            в графстве Восточный Сассекс, Англия, представленном в книге как Стоакровый лес (англ. The Hundred Acre
            Wood, в пересказе Заходера — Чудесный
            лес). Реальными являются также Шесть сосен и ручеёк, у которого был найден Северный Полюс, а также
            упоминаемая в тексте растительность, в том числе колючий утёсник (gorse-bush, чертополох у Заходера), в
            который падает Пух[2]. Маленький Кристофер
            Робин любил забираться в дупла деревьев и играть там с Пухом, поэтому многие персонажи книг живут в дуплах,
            и значительная часть действия происходит в таких жилищах или на ветвях деревьев[2]. Алан Милн, Кристофер
            Робин и Винни-Пух. Фотография
            из Британской национальной портретной галереи</p>

          <p>Действие «Винни-Пуха» разворачивается одновременно в трёх планах — это мир игрушек в детской, мир зверей
            «на своей территории» в Стоакровом лесу и мир персонажей в рассказах отца сыну (это наиболее чётко показано
            в самом начале)[4]. В дальнейшем
            рассказчик исчезает из повествования, и сказочный мир начинает собственное существование, разрастаясь от
            главы к главе[6]. Отмечалось сходство пространства и мира персонажей «Винни-Пуха» с классическим античным и
            средневековым эпосом[6]. Многообещающие
            эпические начинания персонажей (путешествия, подвиги, охоты, игры) оказываются комически малозначительными,
            в то время как настоящие события происходят во внутреннем мире героев (помощь в беде, гостеприимство,
            дружба)[6].</p>

          <p>Книги Милна выросли из устных рассказов и игр с Кристофером Робином; устное происхождение характерно и для
            многих других знаменитых литературных сказок[6]. «Я, собственно, ничего не придумывал, мне оставалось только
            описывать», как говорил впоследствии
            Милн[5]. Реальными игрушками Кристофера Робина были также Пятачок (подарок соседей), Иа-Иа без хвоста
            (ранний подарок родителей), Кенга с Крошкой Ру в сумке и Тигра (куплены родителями впоследствии специально
            для развития сюжета вечерних рассказов
            сыну). В рассказах они появляются именно в таком порядке[2]. Сову и Кролика Милн придумал сам; на
            иллюстрациях Шепарда они выглядят не как игрушки, а как настоящие животные, Кролик говорит Сове: «Только у
            меня и тебя есть мозги. У остальных —
            опилки». В процессе игры все эти персонажи получили индивидуальные повадки, привычки и манеру разговора[6].
            На созданный Милном мир животных повлияла повесть Кеннета Грэма «Ветер в ивах», которой он восхищался и
            которую ранее иллюстрировал Шепард[5],
            возможна также скрытая полемика с «Книгой джунглей» Киплинга[5]. Текст взят из Википедии.</p>
        </div>
      </div>

    </div>

    <div class="scrollTask2">
      <h3><a href="https://learn.javascript.ru/task/updown-button">Кнопка вверх-вниз</a></h3>
      <div id="matrix">
        <span id="sparrowUp" class='sparrow-button' hidden>▲ </span>
        <span id="sparrowDown" class='sparrow-button' hidden> ▼</span>
        <script>
          for (var i = 0; i < 1999; i++) document.writeln(i)
        </script>
      </div>
    </div>

    <div id="scrollTask3">
      <h3><a href="https://learn.javascript.ru/task/load-visible-img">Загрузка видимых изображений</a></h3>
      <div>
        <p>Тексты и картинки взяты с сайта http://etoday.ru. </p>

        <h3>Все изображения с realsrc загружаются, когда становятся видимыми.</h3>


        <div class="news-item">
          <div class="title-news">Космопорт Америка \ Architecture</div>

          Будущее уже сейчас! Скоро фраза из фантастического фильма "флипнуть до космопорта" станет реальностью. По
          крайней мере вторую ее часть человечество обеспечило. В октябре состоялась официальная церемония открытия
          космопорта «Америка», первой в мире коммерческой
          площадки для частных космических полетов. Космопорт открылся в пустыне штата Нью-Мексико. Проект был
          реализован английским бюро Foster and Partners. Космопорт включает в себя зал ожидания и подготовки к полетам,
          диспетчерский пункт и ангар. Также
          обеспечена взлетно-посадочная полоса длиной в три километра.

          <div class="illustrations">
            <img src="https://js.cx/lazyimg/1.gif" width="200" height="140" realsrc="https://js.cx/lazyimg/1.jpg">
          </div>
        </div>

        <div class="news-item">
          <div class="title-news">Рокер и супермодель в Vogue Russia \ Celebrities</div>

          Супермодель Анна Вялицына (Anne Vyalitsyna) и музыкант Адам Ливайн (Adam Levine) снялись в ноябрьском номере
          Vogue Russia. Снимал их Аликс Малка (Alix Malka). Анна и Адам примерили на себя рок-н-ролльные наряды от
          Alexander Wang, Louis Vuitton, Alexander
          McQueen, Balmain, Yves Saint Laurent, подобранные для них Катериной Мухиной.
          <div class="illustrations">
            <img src="https://js.cx/lazyimg/1.gif" width="200" height="259" realsrc="https://js.cx/lazyimg/2-1.jpg">
            <img src="https://js.cx/lazyimg/1.gif" width="200" height="260" realsrc="https://js.cx/lazyimg/2-2.jpg">
          </div>
        </div>

        <div class="news-item">
          <div class="title-news">Старость - не радость в Vogue Italia \ Fashion Photo</div>

          Стивен Мейзел (Steven Meisel) снял фотосессию для октябрьского Vogue Italia. В съемках приняли участие: Карен
          Элсон (Karen Elson), Джиневер ван Синус (Guinevere van Seenus), Эмма Балфур (Emma Balfour), Эн Уст (An Oost),
          Коринна Ингенлеф (Corinna Ingenleuf),
          Танга Моро (Tanga Moreau), Кордула Рейер (Cordula Reyer), Гейл о`Нил (Gail O'Neil), Эвелин Кун (Evelyn Kuhn),
          Каролин де Мэгрэ (Caroline de Maigret), Дэльфин Бафор (Delfine Bafort), Кирстен Оуэн (Kirsten Owen), Гунилла
          Линдблад (Gunilla Lindblad).
          <div class="illustrations">
            <img src="https://js.cx/lazyimg/1.gif" width="341" height="474" realsrc="https://js.cx/lazyimg/3-1.jpg">
            <img src="https://js.cx/lazyimg/1.gif" width="338" height="474" realsrc="https://js.cx/lazyimg/3-2.jpg">
          </div>
        </div>

        <div class="news-item">
          <div class="title-news">"Вышитый рентген" Matthew Cox \ Art</div>

          Художник из Филадельфии Мэтью Кокс (Matthew Cox) создал серию работ, в которых объединены медицинский рентген
          и вышивка. Художник взял рентгенограммы и вышил их предполагаемое содержание частично со скелетными
          элементами. Получилось зловеще и интригующе.
          Выставка "Вышитый рентген" будет демонстрироваться в галерее Packer/Schopf в Майами, в рамках Базельской
          Художественной Недели. Эта серия - только треть творческой продукции Кокса. Он также создает традиционные
          картины и иллюстрации.
          <div class="illustrations"><img src="https://js.cx/lazyimg/1.gif" width="680" height="452"
              realsrc="https://js.cx/lazyimg/4.jpg"></div>
        </div>

        <div class="news-item">
          <div class="title-news">Подарочный каталог Apple 1983 \ Creative</div>

          Etoday предлагает полистать страницы подарочного каталога продукции Apple образца 1983 года. Кажется, это было
          так давно! Эта серия - только треть творческой продукции Кокса. Он также создает традиционные картины и
          иллюстрации.
          <div class="illustrations"><img src="https://js.cx/lazyimg/1.gif" width="600" height="393"
              realsrc="https://js.cx/lazyimg/5.jpg"></div>
        </div>

        <div class="news-item">
          <div class="title-news">Винтажные открытки к празднику Halloween \ Illustrations</div>

          Занимательная коллекция старых почтовых открыток праздника Halloween. Открытки взяты из ньюйоркской публичной
          библиотеки и датируются примерно 1910 г.

          <div class="illustrations"><img src="https://js.cx/lazyimg/1.gif" width="680" height="433"
              realsrc="https://js.cx/lazyimg/6.jpg"></div>
        </div>

        <div class="news-item">
          <div class="title-news">Фотограф Emily Lee \ Photography</div>

          Молодой фотограф Эмили Ли (Emily Lee) использует фотографию, чтобы выразить свои чувства. "Когда я смотрю на
          жизнь через камеру, вижу все более ясно, - пишет она на своем профиле Flickr. - Фотосъемка - это искусство
          наблюдения." Эмили Ли - обладательница
          большого таланта и умения глубоко понимать искусство, хотя учится еще только в средней школе.

          <div class="illustrations"><img src="https://js.cx/lazyimg/1.gif" width="680" height="453"
              realsrc="https://js.cx/lazyimg/7.jpg"></div>
        </div>

        <div class="news-item">
          <div class="title-news">Иконы моды в Fashimals \ Creative</div>

          Fashimals - tumblr-блог, посвященный иконам моды, превращенным в животных. Здесь есть Анна Винтур, Карл
          Лагерфельд, Терри Ричардсон, а также много других их коллег.

          <div class="illustrations"><img src="https://js.cx/lazyimg/1.gif" width="600" height="622"
              realsrc="https://js.cx/lazyimg/8.jpg"></div>
        </div>
      </div>
    </div>
  </div>
  <h3> <a href="comeBack2018.html#onscroll"  class="transform-button"><span>Вернуться</span></a></h3>
</body>
<script>
  //  let vinniStart = avatarV.getBoundingClientRect().bottom; 
  let blockVinni = document.querySelector('.scrollTask1');
  let vinniStart = avatarV.offsetTop;
  let vinniEnd = blockVinni.offsetTop + blockVinni.offsetHeight - avatarV.offsetHeight;
  // second task 
  let matrixs = matrix.offsetTop;
  let matrixe = matrixs + matrix.offsetHeight;
  let lastPos;
  // third task
  let arrImg = scrollTask3.querySelectorAll('img[realsrc]');
  let arrPos = [];
  let ip = 0;
  for (let i = 0; i < arrImg.length; i++) {
    arrPos[i] = arrImg[i].offsetTop;
    // console.log(arrPos[i]);
  }

  window.onscroll = function () {

    let scrolled = window.pageYOffset;
    //1
    if (scrolled > vinniStart && scrolled < vinniEnd) {
      avatarV.className = "avatarFixed";
    } else {
      avatarV.className = "";
    };
    //2
    if (scrolled > matrixs - 1 && scrolled < matrixe) {
      if (scrolled > matrixs + document.documentElement.clientHeight) {
        sparrowUp.hidden = false;
        sparrowDown.hidden = true;
      }
      if (!sparrowDown.hidden) sparrowUp.hidden = true;
    } else {
      sparrowUp.hidden = true;
      sparrowDown.hidden = true;
    };
    //3
    if (scrolled + document.documentElement.clientHeight > arrPos[ip] && ip < arrImg.length) {
      if (arrImg[ip].hasAttribute('realsrc')) {
        arrImg[ip].setAttribute('src', arrImg[ip].getAttribute('realsrc'));
        arrImg[ip].removeAttribute('realsrc');
        ip++;
      };
    };
    //  console.log(scrolled);
  }
  sparrowUp.onclick = function (event) {
    lastPos = event.pageY;
    sparrowDown.hidden = false;
    window.scrollTo(0, matrixs);
  }

  sparrowDown.onclick = function () {
    window.scrollTo(0, lastPos);
    sparrowDown.hidden = true;
  }
</script>

</html>